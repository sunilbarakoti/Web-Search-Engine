Legacy extended IRIs XML resource identification Legacy extended IRIs XML resource identification W3C Working Group Note November comment style corrected place version: http://www.w3.org/TR/2008/NOTE-leiri-20081103/ Latest version: http://www.w3.org/TR/leiri/ Previous version: Editors: Henry S. Thompson, University Edinburgh <ht@inf.ed.ac.uk> Richard Tobin, University Edinburgh <richard@inf.ed.ac.uk> Norman Walsh, Mark Logic Corporation <norman.walsh@marklogic.com> document also available non-normative formats: XML. CopyrightÂ Â©Â W3CÂ® ERCIM, Keio), Rights Reserved. W3C liability, trademark document use rules apply. Abstract historic reasons, formats have allowed variants IRIs are somewhat less restricted syntax, example XML system identifiersand W3C XML Schema anyURIs. document definition name Extended IRI LEIRI) variants easy reference. variants have be used care; require further processing being fully interchangeable IRIs. New protocols formats not use Legacy Extended IRIs. Status Document section status document time publication. Other documents supersede document. list current W3C publications latest revision technical report be found W3C technical reports index http://www.w3.org/TR/. document W3C Working Group Note. been developedby XML Core Working Group, part XML Activity W3C Ubiquitous Web Domain. Publication Working Group Note not imply endorsement bythe W3C Membership. draft document be updated,replaced obsoleted other documents time. isinappropriate cite document other work inprogress. send comments document xml-editor@w3.org(archived). document very closely based material specifically section IRI References IRIs" andsection Extended IRIs", included here permission itsauthors. intended provide basis singlenormative reference many XML- HTML-related standards advance ofthe final publication RFC. publication specification bere-issued reference place extracts given document was produced group operating February W3C Patent Policy. W3C public list patent disclosures made connection deliverables group; page also instructions disclosing patent. individual actual knowledge patent individual Essential Claim(s) disclose information accordance section W3C Patent Policy. Table Contents Introduction Notation Legacy Extended IRI Syntax Conversion Legacy Extended IRIs IRIs Characters allowed Legacy Extended IRIs not IRIs Appendix References Introduction historic reasons, formats have allowed variants IRIs are somewhat less restricted syntax, example XML system identifiersand W3C XML Schema anyURIs. document definition name Extended IRI LEIRI) variants easier reference. variants have be used care; require further processing being fully interchangeable IRIs. New protocols formats not use LegacyExtended IRIs. provisions document also apply Legacy Extended IRI references. Notation document, characters are referenced using prefix followed hexadecimal digits. document, key words not, required, not, not, recommended, optional are be interpreted described Legacy Extended IRI Syntax syntax Legacy Extended IRIs LEIRI references isthe same IRIs IRI references thatucschar redefined. syntax ABNF described Character numbers are taken UCS, implying actual binary encoding. Terminals ABNF are characters, not bytes. consistency IRIs,generic LEIRI software not checkLEIRIs conformance syntax. productions are ambiguous. algorithm details, see Productions changed RFC3986 Â Â LEIRI Â Â Â Â Â scheme ihier-part iquery ifragment Â Â ihier-part Â Â Â Â Â iauthority ipath-abempty ipath-absolute ipath-rootless ipath-empty Â Â LEIRI-reference Â Â Â Â Â LEIRI irelative-ref Â Â absolute-LEIRI Â Â Â Â Â scheme ihier-part iquery Â Â irelative-ref Â Â Â Â Â irelative-part iquery ifragment Â Â irelative-part Â Â Â Â Â iauthority ipath-abempty ipath-absolute ipath-noscheme ipath-empty Â Â iauthority Â Â Â Â Â iuserinfo port Â Â iuserinfo Â Â Â Â Â iunreserved pct-encoded sub-delims Â Â Â Â Â Â Â IP-literal IPv4address ireg-name Â Â ireg-name Â Â Â Â Â iunreserved pct-encoded sub-delims Â Â ipath Â Â Â Â Â ipath-abempty empty ipath-absolute not ipath-noscheme non-colon segment ipath-rootless segment ipath-empty characters Â Â ipath-abempty Â Â Â Â Â isegment Â Â ipath-absolute Â Â Â Â Â isegment-nz isegment Â Â ipath-noscheme Â Â Â Â Â isegment-nz-nc isegment Â Â ipath-rootless Â Â Â Â Â isegment-nz isegment Â Â ipath-empty Â Â Â Â Â Â Â isegment Â Â Â Â Â Â Â isegment-nz Â Â Â Â Â Â Â isegment-nz-nc Â Â Â Â Â iunreserved pct-encoded sub-delims non-zero-length segment colon Â Â ipchar Â Â Â Â Â iunreserved pct-encoded sub-delims Â Â iquery Â Â Â Â Â ipchar iprivate Â Â ifragment Â Â Â Â Â ipchar Â Â iunreserved Â Â Â Â Â ALPHA DIGIT ucschar Â Â iprivate Â Â Â Â Â %xE000-F8FF %xE0000-E0FFF %xF0000-FFFFD %x100000-10FFFD Productions unchanged RFC3986 Â Â scheme Â Â Â Â Â ALPHA ALPHA DIGIT Â Â port Â Â Â Â Â Â Â IP-literal Â Â Â Â Â IPv6address IPvFuture Â Â IPvFuture Â Â Â Â Â unreserved sub-delims Â Â IPv6address Â Â Â Â Â h16 ls32 h16 ls32 h16 h16 ls32 h16 h16 h16 ls32 h16 h16 h16 ls32 h16 h16 h16 ls32 h16 h16 ls32 h16 h16 h16 h16 h16 Â Â h16 Â Â Â Â Â Â Â ls32 Â Â Â Â Â h16":" h16 IPv4address Â Â IPv4address Â Â Â Â Â dec-octet dec-octet dec-octet dec-octet Â Â dec-octet Â Â Â Â Â DIGIT %x31-39 DIGIT 2DIGIT %x30-34 DIGIT %x30-35 Â Â pct-encoded Â Â Â Â Â HEXDIG HEXDIG Â Â unreserved Â Â Â Â Â ALPHA DIGIT Â Â reserved Â Â Â Â Â gen-delims sub-delims Â Â gen-delims Â Â Â Â Â Â Â sub-delims Â Â Â Â Â Modified ucschar production Â Â ucschar Â Â Â Â Â %x0-1F %x7F-D7FF %xE000-FFFD %x10000-10FFFF restriction bidirectional formatting characters inSection lifted. iprivate production redundant. Formats use Legacy Extended IRIs further restrict characters allowed therein, implicitly fact format such not allow characters, explicitly. example character not allowed implicitly be NUL character However, characters allowed IRIs still be allowed. Conversion Legacy Extended IRIs IRIs convert Legacy Extended IRI IRI character allowed Legacy Extended IRI not allowed IRI Characters allowed Legacy Extended IRIs not IRIs) be percent-encoded applying following steps: Convert character sequence more octets using UTF-8 Convert octet %HH, HH hexadecimal notationof octet value. Note identical percent-encodingmechanism Section reduce variability,the hexadecimal notation use uppercase letters. Replace original character resulting character sequence sequence %HH triplets). Conversion LEIRI IRI URI be performed only absolutely necessary late possible processing chain. particular, process converting relative LEIRI absolute process passing LEIRI process software component responsible dereferencing trigger percent-encoding. Characters allowed Legacy Extended IRIs not IRIs section list groups characters code points are allowed Legacy Extedend IRIs are not allowed IRIs are allowed IRIs only query part. group characters, advice usage characters also given, concentrating reasons not use Space formats applications use space delimiter, example, foritems list. Appendix C also thatwhite space have be added displaying printing long URIs; long IRIs. means spaces disappear makethe Legacy Extended IRI be interpreted more separate IRIs. Delimiters Appendix C use ofdouble-quotes angle brackets(<http://example.com/>) delimiters URIs plain text.These conventions are often used also apply IRIs. Legacy Extended IRIsusing characters be cut wrong place. Unwise characters characters originally have been excluded URIs respective codepoints are assigned different graphic characters 7-bit 8-bit encoding. move Unicode, characters are still occasionally displayed differently systems, example, U+005C Japanese Yen symbol. Also, fact characters are not used URIs IRIs encouraged use URIs IRIs contexts include URIs IRIs. case Legacy Extended IRI such character used such context, Legacy Extended IRI be interpreted piecemeal. controls controls, DEL C1 controls, U+0000 U+001F U+007F U+009F) way transmit characters reliably potentially electronic form. Even electronic form, software components silently filter characters stop processing alltogether encountering characters affect text display subtle, unnoticable ways drastic, global irreversible ways depending hardware software involved. use characters allow malicious users manipulate display Legacy Extended IRI context. Bidi formatting characters U+200F, U+202A-202E) characters affect display ordering characters. Displayed Legacy Extended IRIs containing characters be converted back electronic form order) unambiguously. characters allow malicious users manipulate display Legacy Extended IRI context. Specials code points provide functionality useful Legacy Extended IRI, example byte order identification, annotation replacements unknown characters objects. use interpretation Legacy Extended IRI purpose lead confusing display variations. Private use code points U+F0000-FFFFD, U+100000- 10FFFD) Display interpretation code points definition undefined private agreement. Therefore, code points are not suited use Internet. are not interoperable have unpredictable effects. Tags characters provide way include language tags Unicode plain text. are not appropriate Legacy Extended IRIs language information identifiers reliably be input, transmitted example, visual medium such paper), recognized. Non-characters U+1FFFE-1FFFF, U+2FFFE-2FFFF, U+3FFFE-3FFFF, U+4FFFE-4FFFF, U+5FFFE-5FFFF, U+6FFFE-6FFFF, U+7FFFE-7FFFF, U+8FFFE-8FFFF, U+9FFFE-9FFFF, U+10FFFE-10FFFF) code points are defined non-characters. Applications use internally, are not prepared interchange reference, here also list code points code units not even allowed Legacy Extended IRIs: Surrogate code units do not represent Unicode codepoints. References RFC2119 Bradner, S., Key words use RFCs Indicate Requirement Levels, BCP RFC IETF, March Available online http://tools.ietf.org/html/bcp14 http://tools.ietf.org/html/rfc2119 RFC5234 Crocker, D. P. Overell, Eds, Augmented BNF Syntax Specifications: ABNF, RFC 5234/STD IETF, January Available online http://tools.ietf.org/html/rfc5234 RFC3629 Yergeau, F., UTF-8, transformation format ISO STD RFC IETF November Availableonline http://tools.ietf.org/html/rfc3629. RFC3986 Berners-Lee, T., R. Fielding L. Masinter, Uniform Resource Identifier Generic Syntax, STD RFC IETF, January Available online http://tools.ietf.org/html/rfc3986. RFC3987 Internationalized Resource Identifiers(IRIs), RFC3987, DÃ¼rst, M. M. Suignard, eds. IETF,2005. Available online http://tools.ietf.org/html/rfc3987 IRI-bis Internationalized Resource Identifiers(IRIs), draft-duerst-iri-bis-04, DÃ¼rst, M. M. Suignard, eds. IETF,2008. Available online http://tools.ietf.org/html/draft-duerst-iri-bis-04. 